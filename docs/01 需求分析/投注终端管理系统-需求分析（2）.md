# 投注终端管理系统-需求分析（2）

## 1.引言

### 1.1编写目的

为将《试用期任务书》（下简称《书》）中关于《投注终端管理系统》（下简称《系统》）的各项需求真正细化，理清功能模块和开发逻辑，现结合已有PHP版《系统》功能，编写本说明。

### 1.2参考文档

1. 《试用期任务书》

## 2.任务概述

### 2.1项目现状

项目目前处于需求确认阶段，参考已有PHP版《管理系统》开发了预览版的单体应用系统，基本覆盖PHP版各功能点，可更直观的明确需求。

但考虑到《任务书》中所述需求较为粗略笼统，缺乏实际生产环境信息，而PHP版也未实际运用于生产，且功能与《任务书》中需求略有出入，并不能作为最终输出成果。

整个项目需求尚需进一步确认。

### 2.2项目目标

项目提供基于HTTP  API的接口，对设备从注册、分组、认证、软件升级、状态上报到注销的全生命周期管理。接口按照使用对象可分为管理接口和设备接入接口。

管理接口：主要供管理人员在后台对设备进行统一管理。

设备接入接口：主要供设备与系统进行交互，更新设备状态和日志信息。

## 3.系统需求分析

### 3.1系统体系结构图

![结构图](E:\Projects\tzzd\docs\01 需求分析\系统架构（1）.png)

### 3.2技术选型

**后端框架： Springboot2.0+Mybatis**

**数据库：MySQL**

**前端框架：**集成**Swagger-UI**自动生成接口页面

**分布式框架：dubbo**

### 3.3容器化管理

考虑到分布式系统的灵活管理和低环境依赖性，建议采用docker容器对系统相关服务进行自动化部署。

考虑到业务相对简单，服务压力不大，不需要太大规模的集群，同时也为了未来的持续集成，考虑使用docker-compose对容器进行编排。

容器依赖关系图待补。。。

### 3.4系统总体流程图

待补。。。

## 4.功能性需求

#### 4.1设备管理

健康状况监控：定期访问设备，向用户反馈设备的硬件信息（CPU负载、内存使用情况、温度等）和软件信息（可用性、线程数、接口情况等）

设备远程管理：远程关机/重启设备、远程启/禁用设备服务、远程解锁设备等

必要时，设计用户/角色/权限系统，提供不同级别的管理权限

#### 4.2设备分组

此模块主要提供设备分组的查看、修改等操作，分组后再配合其他模块实现统一管理。例如，根据地域、网络、用户等多种维度对设备分组，并提组为单位对设备进行远程管理（见上一条）。

#### 4.3设备软件版本管理

统计设备软件版本，并以软件版本为分组，提供统一管理。例如所有V1版软件的设备禁用某功能，强制所有V1.2版软件的设备升级并重启等。

#### 4.4设备日志管理

接收设备日志并存储，提供按设备或分组的日志查看。

必要时，日志按照重要程度提供分级显示，根据日数量选择关系型数据库/NOSQL数据库/文件等可行存储方式

#### 4.5设备接入

接收设备的接入信息，与数据库比对一致后，注册设备到可用设备列表。

必要时，设计权限系统，针对不同设备闲置不同的访问权限

#### 4.6状态上报

定期将设备运行信息发送到服务器，包括设备的硬件信息（CPU负载、内存使用情况、温度等）和软件信息（可用性、线程数、接口情况等）

在规定时间内未能及时上报信息的设备，视为掉线，具体处理方式待定

#### 4.7升级软件下载

配合2.3更新规定的软件版本

必要时，提供版本分级，如：必要升级（不升级暂不提供服务），重要升级（限制时间内升级），常规升级（可不升级）

## 5.非功能性需求

### 5.1用户界面需求

### 5.2系统性能需求

### 5.3系统其它需求


