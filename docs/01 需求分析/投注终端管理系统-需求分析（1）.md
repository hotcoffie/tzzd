# 投注终端管理系统-需求分析（1）

## 1.功能点分析

需求要求提供的接口包括：管理接口和设备接入接口。

**管理接口：**设备管理、设备分组、设备软件版本管理 和设备日志管理

**设备接入接口：**设备认证、状态上报 和升级软件下载

根据名称暂假设提供以下功能，具体情况**待定**：

#### 1.1设备管理

健康状况监控：定期访问设备，向用户反馈设备的硬件信息（CPU负载、内存使用情况、温度等）和软件信息（可用性、线程数、接口情况等）

设备远程管理：远程关机/重启设备、远程启/禁用设备服务、远程解锁设备等

必要时，设计用户/角色/权限系统，提供不同级别的管理权限

#### 1.2设备分组

此模块主要提供设备分组的查看、修改等操作，分组后再配合其他模块实现统一管理。例如，根据地域、网络、用户等多种维度对设备分组，并提组为单位对设备进行远程管理（见上一条）。

#### 1.3设备软件版本管理

统计设备软件版本，并以软件版本为分组，提供统一管理。例如所有V1版软件的设备禁用某功能，强制所有V1.2版软件的设备升级并重启等。

#### 1.4设备日志管理

接收设备日志并存储，提供按设备或分组的日志查看。

必要时，日志按照重要程度提供分级显示，根据日数量选择关系型数据库/NOSQL数据库/文件等可行存储方式

#### 1.5设备接入

接收设备的接入信息，与数据库比对一致后，注册设备到可用设备列表。

必要时，设计权限系统，针对不同设备闲置不同的访问权限

#### 1.6状态上报

定期将设备运行信息发送到服务器，包括设备的硬件信息（CPU负载、内存使用情况、温度等）和软件信息（可用性、线程数、接口情况等）

在规定时间内未能及时上报信息的设备，视为掉线，具体处理方式待定

#### 1.7升级软件下载

配合2.3更新规定的软件版本

必要时，提供版本分级，如：必要升级（不升级暂不提供服务），重要升级（限制时间内升级），常规升级（可不升级）

## 2.功能关系图

初步设计功能关系图如下，首先管理接口，提供针对所有认证设备的统一管理功能，然后根据不同分组提供各分组的统一管理功能，最后针对每台设备提供独立的管理功能

![功能关系图](C:\Users\Administrator.SC-201903060943\Desktop\投注终端管理系统\01 需求分析\投注终端管理系统-功能关系图.png)

## 3.功能分析

由于设计到设备的认证及管理，需要明确具体的认证方式和加密方式，设计针对设备的权限管理、以及针对管理用户的权限的管理。

## 4.技术选型分析

**后端框架：**由于要求使用SSM框架提供HTTP API接口，考虑简化系统配置工作，暂定**Springboot2.0+Mybatis**

**数据库：**由于未明确数据库要求，考虑到熟悉度，暂定**MySQL**

**前端框架：**由于仅需要提供API接口，考虑到调试的方便，暂定集成**Swagger-UI**自动生成接口页面

**待定部分：**暂不清楚权限管理需求，未选型权限相关框架；暂时不清楚RPC服务在HTTP API接口负责的具体工作

## 5.模块设计

待定

## 6.数据库设计

待定

## 7.接口设计

待定